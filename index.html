<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBrain Dashboard</title>
    
    <!-- CSS ‡¶≤‡¶ø‡¶Ç‡¶ï -->
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/style-dash.css">
    <link rel="stylesheet" href="css/footer.css">
    
</head>
<body>

<!-- ‡¶®‡ßç‡¶Ø‡¶æ‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞ -->
<nav class="navbar">
    <div class="logo-section">
        <span class="logo-icon">üß†</span>
        <span class="logo-text">MyBrain</span>
    </div>
    
    <div class="nav-right">
        <div class="nav-links">
            <a href="#" class="nav-item active">Notes</a>
            <a href="vault.html" class="nav-item">Vault</a>
        </div>
        <button id="logout-btn" class="btn-logout">
            <img src="https://img.icons8.com/ios-glyphs/30/fa314a/exit.png" alt="Logout" style="width:16px; margin-right:5px;">
            Logout
        </button>
    </div>
</nav>

    <div class="container">
        <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® (JS ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá) -->
        <div id="profile-widget-area"></div>
        
        <!-- ‡ßß. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ‡¶∞ -->
        <div class="search-wrapper">
            <input type="text" id="searchInput" placeholder="üîç Search notes, links or ideas...">
        </div>

        <!-- ‡ß®. ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶è‡¶∞‡¶ø‡ßü‡¶æ (‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá) -->
        <div class="input-area">
            <textarea id="noteInput" placeholder="Save a note, link or idea..."></textarea>
            
            <div class="input-actions">
                <input type="file" id="fileInput" hidden>
                
                <button id="saveBtn" class="btn btn-primary">Save to Brain</button>
            </div>
            <p id="uploadStatus" style="display:none; color: green; font-size: 12px; margin-top:5px;">Uploading...</p>
        </div>

        <!-- ‡ß©. ‡¶®‡ßã‡¶ü‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶∞‡¶ø‡ßü‡¶æ -->
        <div id="content-grid" class="masonry-grid">
            <p style="text-align:center; color:#999; width:100%;">Loading your brain...</p>
        </div>

    </div>

    <!-- ‡¶´‡ßÅ‡¶ü‡¶æ‡¶∞ -->
    <div id="app-footer"></div>

    <!-- ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡¶∏ -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/dashboard.js"></script>
    <script type="module" src="js/profile-manager.js"></script>
    <script src="js/search.js"></script> 
    <script src="js/footer.js"></script>

    <!-- [‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£] ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const noteInput = document.getElementById('noteInput');
            
            // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶®‡¶æ ‡¶™‡ßá‡¶≤‡ßá ‡¶ï‡ßã‡¶° ‡¶•‡¶æ‡¶Æ‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶¨‡ßá
            if (!noteInput) return;

            // ‡ßß. ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø URL ‡¶•‡ßá‡¶ï‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ (‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ö‡¶≤‡¶∞‡ßá‡¶°‡¶ø ‡¶≤‡¶ó‡¶á‡¶® ‡¶•‡¶æ‡¶ï‡ßá)
            // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßç‡¶∞‡ßü‡ßá‡¶° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßá: ?note=https://...
            const urlParams = new URLSearchParams(window.location.search);
            let sharedNote = urlParams.get('note');

            // ‡ß®. ‡¶Ø‡¶¶‡¶ø URL ‡¶è ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶æ‡¶π‡¶≤‡ßá SessionStorage ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ 
            // (‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡ßá‡¶ú ‡¶π‡ßü‡ßá ‡¶Ü‡¶∏‡ßá)
            if (!sharedNote) {
                sharedNote = sessionStorage.getItem('pendingNote');
                
                // ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶Æ‡ßá‡¶Æ‡ßã‡¶∞‡¶ø ‡¶ï‡ßç‡¶≤‡¶ø‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨, ‡¶Ø‡¶æ‡¶§‡ßá ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶®‡¶æ ‡¶Ü‡¶∏‡ßá
                if (sharedNote) {
                    sessionStorage.removeItem('pendingNote');
                }
            }

            // ‡ß©. ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶ó‡ßá‡¶≤‡ßá ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶¨‡¶∏‡¶æ‡¶®‡ßã
            if (sharedNote) {
                noteInput.value = sharedNote; // ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶¨‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ
                noteInput.focus();            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶∏‡¶∞ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá ‡¶®‡¶ø‡ßü‡ßá ‡¶ó‡ßá‡¶≤‡¶æ‡¶Æ
                
                // ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®, ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶≤‡¶æ‡¶á‡¶®‡¶ü‡¶ø ‡¶Ü‡¶®-‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßá:
                // document.getElementById('saveBtn').click();
            }
        });
    </script>

</body>
</html>