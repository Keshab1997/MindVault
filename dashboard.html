<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBrain Dashboard</title>
    
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/style-dash.css">
    <link rel="stylesheet" href="css/footer.css">
    
</head>
<body>

<nav class="navbar">
    <div class="logo-section">
        <span class="logo-icon">üß†</span>
        <span class="logo-text">MyBrain</span>
    </div>
    
    <div class="nav-right">
        <div class="nav-links">
            <a href="#" class="nav-item active">Notes</a>
            <a href="vault.html" class="nav-item">Vault</a>
        </div>
        <button id="logout-btn" class="btn-logout">
            <img src="https://img.icons8.com/ios-glyphs/30/fa314a/exit.png" alt="Logout" style="width:16px; margin-right:5px;">
            Logout
        </button>
    </div>
</nav>

    <div class="container">
        <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® (JS ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá) -->
    <div id="profile-widget-area"></div>
        
        <!-- ‡ßß. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
        <div class="search-wrapper">
            <input type="text" id="searchInput" placeholder="üîç Search notes, links or ideas...">
        </div>

        <!-- ‡ß®. ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶è‡¶∞‡¶ø‡ßü‡¶æ -->
        <div class="input-area">
            <textarea id="noteInput" placeholder="Save a note, link or idea..."></textarea>
            
            <div class="input-actions">
                <input type="file" id="fileInput" hidden>
                
                <button id="saveBtn" class="btn btn-primary">Save to Brain</button>
            </div>
            <p id="uploadStatus" style="display:none; color: green; font-size: 12px; margin-top:5px;">Uploading...</p>
        </div>

        <!-- ‡ß©. ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶∞‡¶ø‡ßü‡¶æ -->
        <div id="content-grid" class="masonry-grid">
            <p style="text-align:center; color:#999; width:100%;">Loading your brain...</p>
        </div>

    </div>

    <div id="app-footer"></div>

    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/dashboard.js"></script>
    <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡ßü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü -->
    <script type="module" src="js/profile-manager.js"></script>
    
    <!-- ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶≤‡¶ø‡¶Ç‡¶ï -->
    <script src="js/search.js"></script> 
    
    <script src="js/footer.js"></script>

    <!-- [‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ú‡¶®] ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶∞‡¶ø‡¶∏‡¶ø‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // URL ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶ñ‡ßã‡¶Å‡¶ú‡¶æ
            const urlParams = new URLSearchParams(window.location.search);
            const sharedNote = urlParams.get('note'); // 'note' ‡¶®‡¶æ‡¶Æ‡¶ü‡¶ø ‡¶è‡¶®‡ßç‡¶°‡ßç‡¶∞‡ßü‡ßá‡¶° ‡¶ï‡ßã‡¶°‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡¶ø‡¶≤ ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶π‡¶¨‡ßá

            // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü
            if (sharedNote) {
                const noteInput = document.getElementById('noteInput');
                if (noteInput) {
                    // 1. ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶¨‡¶∏‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ
                    noteInput.value = sharedNote;
                    
                    // 2. ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶§‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡ßü
                    noteInput.focus();

                    // ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶ö‡¶æ‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶∏‡ßá‡¶≠ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶ï (‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶õ‡¶æ‡ßú‡¶æ),
                    // ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡ß® ‡¶≤‡¶æ‡¶á‡¶®‡ßá‡¶∞ ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßÅ‡¶≤‡ßá ‡¶¶‡¶æ‡¶ì:
                    /*
                    const saveBtn = document.getElementById('saveBtn');
                    if(saveBtn) saveBtn.click();
                    */
                }
            }
        });
    </script>

</body>
</html>